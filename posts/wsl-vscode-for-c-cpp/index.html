<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用 WSL 和 VS Code 配置 C/C++ 开发环境 | Qiming's Blog</title><meta name=keywords content="教程,WSL,VS Code"><meta name=description content="此文章已经过时，请参考微软给出的更新的教程 安装 WSL
本教程基于 在 Windows 10 上安装 WSL 和 开始使用 WSL VS Code 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。
启用 WSL（适用于 Linux 的 Windows 子系统） 以管理员身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 如果想要更新到 WSL 2 请转到 更新至 WSL 2 。若希望直接使用 WSL 1 请直接 重新启动 并转到 安装并配置 Linux 发行版。
更新至 WSL 2 注意：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：
 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手 更新 Windows 版本。  启用虚拟机功能 以管理员身份打开 Powershell 并运行如下命令："><meta name=author content="Qiming Xu"><link rel=canonical href=https://xqm32.github.io/posts/wsl-vscode-for-c-cpp/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://xqm32.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xqm32.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://xqm32.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://xqm32.github.io/apple-touch-icon.png><link rel=mask-icon href=https://xqm32.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.94.2"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="使用 WSL 和 VS Code 配置 C/C++ 开发环境"><meta property="og:description" content="此文章已经过时，请参考微软给出的更新的教程 安装 WSL
本教程基于 在 Windows 10 上安装 WSL 和 开始使用 WSL VS Code 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。
启用 WSL（适用于 Linux 的 Windows 子系统） 以管理员身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 如果想要更新到 WSL 2 请转到 更新至 WSL 2 。若希望直接使用 WSL 1 请直接 重新启动 并转到 安装并配置 Linux 发行版。
更新至 WSL 2 注意：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：
 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手 更新 Windows 版本。  启用虚拟机功能 以管理员身份打开 Powershell 并运行如下命令："><meta property="og:type" content="article"><meta property="og:url" content="https://xqm32.github.io/posts/wsl-vscode-for-c-cpp/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-13T19:03:23+08:00"><meta property="article:modified_time" content="2021-11-26T14:23:09+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 WSL 和 VS Code 配置 C/C++ 开发环境"><meta name=twitter:description content="此文章已经过时，请参考微软给出的更新的教程 安装 WSL
本教程基于 在 Windows 10 上安装 WSL 和 开始使用 WSL VS Code 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。
启用 WSL（适用于 Linux 的 Windows 子系统） 以管理员身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 如果想要更新到 WSL 2 请转到 更新至 WSL 2 。若希望直接使用 WSL 1 请直接 重新启动 并转到 安装并配置 Linux 发行版。
更新至 WSL 2 注意：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：
 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手 更新 Windows 版本。  启用虚拟机功能 以管理员身份打开 Powershell 并运行如下命令："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://xqm32.github.io/posts/"},{"@type":"ListItem","position":2,"name":"使用 WSL 和 VS Code 配置 C/C++ 开发环境","item":"https://xqm32.github.io/posts/wsl-vscode-for-c-cpp/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用 WSL 和 VS Code 配置 C/C++ 开发环境","name":"使用 WSL 和 VS Code 配置 C\/C\u002b\u002b 开发环境","description":"此文章已经过时，请参考微软给出的更新的教程 安装 WSL\n本教程基于 在 Windows 10 上安装 WSL 和 开始使用 WSL VS Code 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。\n启用 WSL（适用于 Linux 的 Windows 子系统） 以管理员身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 如果想要更新到 WSL 2 请转到 更新至 WSL 2 。若希望直接使用 WSL 1 请直接 重新启动 并转到 安装并配置 Linux 发行版。\n更新至 WSL 2 注意：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：\n 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手 更新 Windows 版本。  启用虚拟机功能 以管理员身份打开 Powershell 并运行如下命令：","keywords":["教程","WSL","VS Code"],"articleBody":"此文章已经过时，请参考微软给出的更新的教程 安装 WSL\n本教程基于 在 Windows 10 上安装 WSL 和 开始使用 WSL VS Code 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。\n启用 WSL（适用于 Linux 的 Windows 子系统） 以管理员身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 如果想要更新到 WSL 2 请转到 更新至 WSL 2 。若希望直接使用 WSL 1 请直接 重新启动 并转到 安装并配置 Linux 发行版。\n更新至 WSL 2 注意：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：\n 对于 x64 系统：版本 1903 或更高版本，采用 内部版本 18362 或更高版本。 对于 ARM64 系统：版本 2004 或更高版本，采用 内部版本 19041 或更高版本。 低于 18362 的版本不支持 WSL 2。 使用 Windows Update 助手 更新 Windows 版本。  启用虚拟机功能 以管理员身份打开 Powershell 并运行如下命令：\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart 重新启动 计算机，以完成 WSL 安装并更新到 WSL 2。\nWSL 2 的后续步骤 请参考 后续步骤 来完成，后转 安装并配置 Linux 发行版。\n安装并配置 Linux 发行版 打开 Microsoft Store，安装一个 Linux 发行版，并打开此发行版，后按照提示进行操作即可。\n对于 Linux 的相关操作，请自行搜索。\n更改 WSL 的镜像源 使用默认的源下载软件是较为缓慢的，因而我们需要更换更快速的镜像。在国内，我们常用的是 清华大学 和 中国科学技术大学 的镜像。请确认 WSL 的发行版，根据需求选择要使用的镜像：\n 清华大学开源软件镜像站 USTC Open Source Software Mirror  在 WSL 上安装 C/C++ 的编译器 以 Ubuntu 为例，使用如下命令安装：\nsudo apt-get install gcc g++ 注意：在安装之前，可能需要进行包的更新，可使用如下命令更新：\nsudo apt-get update sudo apt-get upgrade 对于其他 Linux 发行版，请自行在网络上搜索安装与更新的命令，这里不再赘述。\n将 WSL 与 VS Code 一并使用 以下内容参考 开始使用 WSL VS Code，笔者不确保内容的准确性。如有疑问请参考原文。\n安装并配置 VS Code 访问 VS Code 安装页 选择适合的安装程序。\n打开 VS Code，点击拓展并搜索 「WSL」，安装 WSL 远程拓展包，即可完成操作。在中文环境下，我们还可以安装 VS Code 推荐的中文语言包，以方便阅读。\n对于 C/C++，我们可以在拓展中搜索 C++，以安装其有关拓展（包含了语法高亮、调试等功能）。\n更多的 WSL 与 VS Code 共同使用的小技巧的注意事项，请参考 开始使用 WSL VS Code\n使用 WSL 和 VS Code 编写 Hello world! 程序 注意：以下仅为简单的、单文件的 C 语言编写的源文件的编译方法，笔者不保证（实际上是几乎不能）适用于生产环境。若要了解一种生产环境下的 C 语言编译方法，请参考 CMake。\n首先，需要进入存放源代码的文件夹，请读者自行建立，或在 Home 文件夹直接进行。\n运行如下命令，创建 main.c 源文件（提示：在 Linux 下键入命令时，请善用 Tab 键自动补全）：\ntouch main.c 在 VS Code 中，点击左下角打开远程窗口按钮，选择 New WSL Window 即可连接至 WSL。打开存放 main.c 的文件夹，使用 VS Code 编辑 main.c 文件，填入如下内容：\n#include  int main() {  printf(\"Hello world!\\n\"); } 按下 ctrl + ` 打开命令行终端，输入以下命令编译此程序：\ngcc main.c 此时，输入 ls 命令，我们可以看到当前目录下已经生成了一个名为 a.out 的可执行文件。\n我们执行这个程序（注意：./ 是不可缺少的，具体原因请自行搜索，这里不再赘述）：\n./a.out 可以看到输出：\nHello world! 若要重新编译源文件，请使用 rm 命令，删除 a.out 文件，并再次执行编译命令。\n若要了解其他 gcc 命令的使用方法，请执行命令 man gcc 或 gcc --help。更多 Linux 常用命令请自行于网络上搜索。\n","wordCount":"286","inLanguage":"zh","datePublished":"2021-09-13T19:03:23+08:00","dateModified":"2021-11-26T14:23:09+08:00","author":{"@type":"Person","name":"Qiming Xu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xqm32.github.io/posts/wsl-vscode-for-c-cpp/"},"publisher":{"@type":"Organization","name":"Qiming's Blog","logo":{"@type":"ImageObject","url":"https://xqm32.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xqm32.github.io/ accesskey=h title="Qiming's Blog (Alt + H)">Qiming's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://xqm32.github.io/about/ title=关于我><span>关于我</span></a></li><li><a href=https://xqm32.github.io/friends/ title=朋友们><span>朋友们</span></a></li><li><a href=https://xqm32.github.io/posts/ title=文章><span>文章</span></a></li><li><a href=https://xqm32.github.io/notes/ title=笔记><span>笔记</span></a></li><li><a href=https://xqm32.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://xqm32.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://xqm32.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://xqm32.github.io/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>使用 WSL 和 VS Code 配置 C/C++ 开发环境</h1><div class=post-meta><span title="2021-11-26 14:23:09 +0800 +0800">2021-11-26 14:23:09</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;Qiming Xu</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%90%af%e7%94%a8-wsl%e9%80%82%e7%94%a8%e4%ba%8e-linux-%e7%9a%84-windows-%e5%ad%90%e7%b3%bb%e7%bb%9f aria-label="启用 WSL（适用于 Linux 的 Windows 子系统）">启用 WSL（适用于 Linux 的 Windows 子系统）</a></li><li><a href=#%e6%9b%b4%e6%96%b0%e8%87%b3-wsl-2 aria-label="更新至 WSL 2">更新至 WSL 2</a><ul><li><a href=#%e5%90%af%e7%94%a8%e8%99%9a%e6%8b%9f%e6%9c%ba%e5%8a%9f%e8%83%bd aria-label=启用虚拟机功能>启用虚拟机功能</a></li><li><a href=#wsl-2-%e7%9a%84%e5%90%8e%e7%bb%ad%e6%ad%a5%e9%aa%a4 aria-label="WSL 2 的后续步骤">WSL 2 的后续步骤</a></li></ul></li><li><a href=#%e5%ae%89%e8%a3%85%e5%b9%b6%e9%85%8d%e7%bd%ae-linux-%e5%8f%91%e8%a1%8c%e7%89%88 aria-label="安装并配置 Linux 发行版">安装并配置 Linux 发行版</a></li><li><a href=#%e6%9b%b4%e6%94%b9-wsl-%e7%9a%84%e9%95%9c%e5%83%8f%e6%ba%90 aria-label="更改 WSL 的镜像源">更改 WSL 的镜像源</a></li><li><a href=#%e5%9c%a8-wsl-%e4%b8%8a%e5%ae%89%e8%a3%85-cc-%e7%9a%84%e7%bc%96%e8%af%91%e5%99%a8 aria-label="在 WSL 上安装 C/C++ 的编译器">在 WSL 上安装 C/C++ 的编译器</a></li><li><a href=#%e5%b0%86-wsl-%e4%b8%8e-vs-code-%e4%b8%80%e5%b9%b6%e4%bd%bf%e7%94%a8 aria-label="将 WSL 与 VS Code 一并使用">将 WSL 与 VS Code 一并使用</a><ul><li><a href=#%e5%ae%89%e8%a3%85%e5%b9%b6%e9%85%8d%e7%bd%ae-vs-code aria-label="安装并配置 VS Code">安装并配置 VS Code</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8-wsl-%e5%92%8c-vs-code-%e7%bc%96%e5%86%99-hello-world-%e7%a8%8b%e5%ba%8f aria-label="使用 WSL 和 VS Code 编写 Hello world! 程序">使用 WSL 和 VS Code 编写 Hello world! 程序</a></li></ul></div></details></div><div class=post-content><p><font color=red>此文章已经过时，请参考微软给出的更新的教程 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/install-win10><font color=red>安装 WSL</font></a></font></p><p>本教程基于 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/install-win10>在 Windows 10 上安装 WSL</a> 和 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-vscode>开始使用 WSL VS Code</a> 编写，笔者不保证内容的准确性。如有任何疑问，请参考微软有关 WSL 的官方文档。</p><h2 id=启用-wsl适用于-linux-的-windows-子系统>启用 WSL（适用于 Linux 的 Windows 子系统）<a hidden class=anchor aria-hidden=true href=#启用-wsl适用于-linux-的-windows-子系统>#</a></h2><p>以<strong>管理员</strong>身份打开 Powershell（可以右击 Windows 徽标键，并选择该项）并运行如下命令：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>dism.exe /online /enable-feature /featurename<span style=color:#960050;background-color:#1e0010>:</span>Microsoft-Windows-Subsystem-Linux /all /norestart
</span></span></code></pre></div><p>如果想要更新到 WSL 2 请转到 <a href=#%E6%9B%B4%E6%96%B0%E8%87%B3-wsl-2>更新至 WSL 2</a> 。若希望直接使用 <strong>WSL 1</strong> 请直接 <strong>重新启动</strong> 并转到 <a href=#%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AE-linux-%E5%8F%91%E8%A1%8C%E7%89%88>安装并配置 Linux 发行版</a>。</p><h2 id=更新至-wsl-2>更新至 WSL 2<a hidden class=anchor aria-hidden=true href=#更新至-wsl-2>#</a></h2><p><strong>注意</strong>：若要更新至 WSL 2，请确保 Windows 10 已经达到以下运行要求：</p><ul><li>对于 x64 系统：<strong>版本 1903</strong> 或更高版本，采用 <strong>内部版本 18362</strong> 或更高版本。</li><li>对于 ARM64 系统：<strong>版本 2004</strong> 或更高版本，采用 <strong>内部版本 19041</strong> 或更高版本。</li><li>低于 18362 的版本不支持 WSL 2。 使用 <a href=https://www.microsoft.com/software-download/windows10>Windows Update 助手</a> 更新 Windows 版本。</li></ul><h3 id=启用虚拟机功能>启用虚拟机功能<a hidden class=anchor aria-hidden=true href=#启用虚拟机功能>#</a></h3><p>以<strong>管理员</strong>身份打开 Powershell 并运行如下命令：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>dism.exe /online /enable-feature /featurename<span style=color:#960050;background-color:#1e0010>:</span>VirtualMachinePlatform /all /norestart
</span></span></code></pre></div><p><strong>重新启动</strong> 计算机，以完成 WSL 安装并更新到 WSL 2。</p><h3 id=wsl-2-的后续步骤>WSL 2 的后续步骤<a hidden class=anchor aria-hidden=true href=#wsl-2-的后续步骤>#</a></h3><p>请参考 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/install-win10#step-4---download-the-linux-kernel-update-package>后续步骤</a> 来完成，后转 <a href=#%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AE-linux-%E5%8F%91%E8%A1%8C%E7%89%88>安装并配置 Linux 发行版</a>。</p><h2 id=安装并配置-linux-发行版>安装并配置 Linux 发行版<a hidden class=anchor aria-hidden=true href=#安装并配置-linux-发行版>#</a></h2><p>打开 <strong>Microsoft Store</strong>，安装一个 Linux 发行版，并打开此发行版，后按照提示进行操作即可。</p><p><strong>对于 Linux 的相关操作，请自行搜索。</strong></p><h2 id=更改-wsl-的镜像源>更改 WSL 的镜像源<a hidden class=anchor aria-hidden=true href=#更改-wsl-的镜像源>#</a></h2><p>使用默认的源下载软件是较为缓慢的，因而我们需要更换更快速的镜像。在国内，我们常用的是 <a href=https://www.tsinghua.edu.cn/>清华大学</a> 和 <a href=https://www.ustc.edu.cn/>中国科学技术大学</a> 的镜像。请确认 WSL 的发行版，根据需求选择要使用的镜像：</p><ol><li><a href=https://mirrors.tuna.tsinghua.edu.cn/>清华大学开源软件镜像站</a></li><li><a href=https://mirrors.ustc.edu.cn/>USTC Open Source Software Mirror</a></li></ol><h2 id=在-wsl-上安装-cc-的编译器>在 WSL 上安装 C/C++ 的编译器<a hidden class=anchor aria-hidden=true href=#在-wsl-上安装-cc-的编译器>#</a></h2><p>以 Ubuntu 为例，使用如下命令安装：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install gcc g++
</span></span></code></pre></div><p><strong>注意</strong>：在安装之前，可能需要进行包的更新，可使用如下命令更新：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get upgrade
</span></span></code></pre></div><p>对于其他 Linux 发行版，请自行在网络上搜索安装与更新的命令，这里不再赘述。</p><h2 id=将-wsl-与-vs-code-一并使用>将 WSL 与 VS Code 一并使用<a hidden class=anchor aria-hidden=true href=#将-wsl-与-vs-code-一并使用>#</a></h2><p>以下内容参考 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-vscode>开始使用 WSL VS Code</a>，笔者不确保内容的准确性。如有疑问请参考原文。</p><h3 id=安装并配置-vs-code>安装并配置 VS Code<a hidden class=anchor aria-hidden=true href=#安装并配置-vs-code>#</a></h3><p>访问 <a href=https://code.visualstudio.com/download>VS Code 安装页</a> 选择适合的安装程序。</p><p>打开 VS Code，点击拓展并搜索 「WSL」，安装 WSL 远程拓展包，即可完成操作。在中文环境下，我们还可以安装 VS Code 推荐的中文语言包，以方便阅读。</p><p>对于 C/C++，我们可以在拓展中搜索 C++，以安装其有关拓展（包含了语法高亮、调试等功能）。</p><p>更多的 WSL 与 VS Code 共同使用的小技巧的注意事项，请参考 <a href=https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-vscode>开始使用 WSL VS Code</a></p><h2 id=使用-wsl-和-vs-code-编写-hello-world-程序>使用 WSL 和 VS Code 编写 Hello world! 程序<a hidden class=anchor aria-hidden=true href=#使用-wsl-和-vs-code-编写-hello-world-程序>#</a></h2><p><strong>注意</strong>：以下仅为简单的、单文件的 C 语言编写的源文件的编译方法，笔者不保证（实际上是几乎不能）适用于生产环境。若要了解一种生产环境下的 C 语言编译方法，请参考 <a href=https://cmake.org/>CMake</a>。</p><p>首先，需要进入存放源代码的文件夹，请读者自行建立，或在 Home 文件夹直接进行。</p><p>运行如下命令，创建 <code>main.c</code> 源文件（提示：在 Linux 下键入命令时，请善用 <code>Tab</code> 键自动补全）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>touch main.c
</span></span></code></pre></div><p>在 VS Code 中，点击左下角<strong>打开远程窗口</strong>按钮，选择 <code>New WSL Window</code> 即可连接至 WSL。打开存放 <code>main.c</code> 的文件夹，使用 VS Code 编辑 <code>main.c</code> 文件，填入如下内容：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    printf(<span style=color:#e6db74>&#34;Hello world!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>按下 <code>ctrl</code> + <code>`</code> 打开命令行终端，输入以下命令编译此程序：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gcc main.c
</span></span></code></pre></div><p>此时，输入 <code>ls</code> 命令，我们可以看到当前目录下已经生成了一个名为 <code>a.out</code> 的可执行文件。</p><p>我们执行这个程序（<strong>注意</strong>：<code>./</code> 是不可缺少的，具体原因请自行搜索，这里不再赘述）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./a.out
</span></span></code></pre></div><p>可以看到输出：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Hello world!
</span></span></code></pre></div><p>若要重新编译源文件，请使用 <code>rm</code> 命令，删除 <code>a.out</code> 文件，并再次执行编译命令。</p><p>若要了解其他 <code>gcc</code> 命令的使用方法，请执行命令 <code>man gcc</code> 或 <code>gcc --help</code>。更多 Linux 常用命令请自行于网络上搜索。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://xqm32.github.io/tags/%E6%95%99%E7%A8%8B/>教程</a></li><li><a href=https://xqm32.github.io/tags/wsl/>WSL</a></li><li><a href=https://xqm32.github.io/tags/vs-code/>VS Code</a></li></ul></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script><div id=gitalk-container></div><script>var gitalk=new Gitalk({clientID:"effe960551db601801d0",clientSecret:"273d97946210e4a1e06df08497f5085dc1c32a5d",repo:"xqm32.github.io",owner:"xqm32",admin:["xqm32"],id:location.pathname,distractionFreeMode:!1});gitalk.render("gitalk-container")</script></article></main><footer class=footer><span>&copy; 2022 <a href=https://xqm32.github.io/>Qiming's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="复制";function s(){e.innerText="已复制！",setTimeout(()=>{e.innerText="复制"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>